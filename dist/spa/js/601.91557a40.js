(self["webpackChunkmarvel_ml_app"]=self["webpackChunkmarvel_ml_app"]||[]).push([[601],{2057:(s,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>Y});a(6727),a(8170),a(5231),a(9359),a(6408),a(702);var l=a(9835),t=a(499),r=a(6970),n=a(1822),i=a(9302),c=a(9981),o=a.n(c),j=a(2767),d=a(3710),u=a(3878),m=a.n(u);const p={class:"q-pt-md"},v={class:"row"},h={key:0,class:"flex flex-center nowrap uploader-nofile"},g=(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 43"},[(0,l._)("path",{d:"M48.4 26.5c-.9 0-1.7.7-1.7 1.7v11.6h-43.3v-11.6c0-.9-.7-1.7-1.7-1.7s-1.7.7-1.7 1.7v13.2c0 .9.7 1.7 1.7 1.7h46.7c.9 0 1.7-.7 1.7-1.7v-13.2c0-1-.7-1.7-1.7-1.7zm-24.5 6.1c.3.3.8.5 1.2.5.4 0 .9-.2 1.2-.5l10-11.6c.7-.7.7-1.7 0-2.4s-1.7-.7-2.4 0l-7.1 8.3v-25.3c0-.9-.7-1.7-1.7-1.7s-1.7.7-1.7 1.7v25.3l-7.1-8.3c-.7-.7-1.7-.7-2.4 0s-.7 1.7 0 2.4l10 11.6z"})],-1),f={class:"text-h5"},b=(0,l.Uk)(" or drag it here "),_={class:"text-h5"},k={class:"row flex-center no-wrap q-pa-sm uploader-hasfile-header"},w={class:"col"},y={class:"text-weight-bold"},z={class:"col-1"},x={key:0,class:"q-pa-xs"},q={class:"col-12"},C={class:"col-12 text-h5 text-center"},D=(0,l._)("div",null,"Probability of Marvel ancestry",-1),Q={class:"text-weight-bolder text-primary"},F={key:0,class:"col-12 q-pt-md"},U=(0,l._)("div",{class:"text-h5 text-center"},"Character Makeup",-1),Z={class:"col-2 text-center q-pr-xs text-weight-bold",style:{"font-size":"16px","text-transform":"capitalize"}},L={class:"col"},M={class:"absolute-full flex flex-center"},W={setup(s){const e=(0,i.Z)(),a=(0,t.iH)([]),c=(0,t.iH)([]),u=(0,t.Fl)((()=>c.value.length>0)),W=s=>{c.value.push(s.result)},H=s=>{const e=new FileReader;e.addEventListener("load",(()=>W(e))),e.readAsDataURL(s)},B=(0,t.iH)(),O=async s=>{s.map(H)},P=async s=>{c.value=c.value.filter((e=>s.includes(e))),0==c.value.length&&(a.value=[])};async function S(){const s=await j.V1.getPhoto({quality:90,allowEditing:!0,resultType:j.dk.Base64}),e=new Blob([new Uint8Array((0,d.J)(s.base64String))],{type:`image/${s.format}`}),a=new File([e],"Snapshot",{lastModified:m()().unix(),type:e.type});B.value.addFiles([a])}const T=async()=>{a.value=[],e.loading.show();for(const l of c.value)try{const s={data:[l]},{data:e}=await o().post("https://hf.space/embed/wgpubs/fastai_2022_session1_is_marvel_character/+/api/predict/",s),t={is_marvel_character_prob:e["data"][0],marvel_character_probs:[]};if(parseFloat(t.is_marvel_character_prob)>=50){const{data:e}=await o().post("https://notebookse.jarvislabs.ai/jY5fsv-S9jKoQQrgd1dsoJuCDt6pTg6ZjBpNK9afxLIGInQv4OlHVuTMHqOPh2LU/api/predict/",s);for(const s of e["data"][0]["confidences"])t["marvel_character_probs"].push({label:s["label"],prob:s["confidence"]})}a.value.push(t)}catch(s){e.notify({type:"negative",message:s.message||"Could not get prediction"})}e.loading.hide()};return(s,e)=>{const i=(0,l.up)("q-icon"),c=(0,l.up)("q-btn"),o=(0,l.up)("q-badge"),j=(0,l.up)("q-linear-progress"),d=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)(d,{class:"flex justify-center items-start"},{default:(0,l.w5)((()=>[(0,l._)("div",p,[(0,l._)("div",v,[(0,l.Wm)((0,t.SU)(n.Z),{ref_key:"uploader",ref:B,class:"col-12",style:{"min-width":"400px","min-height":"400px"},accept:"image/*","max-files":1,onAdded:O,onRemoved:P},{list:(0,l.w5)((s=>[0==s.files.length?((0,l.wg)(),(0,l.iD)("div",h,[(0,l._)("div",null,[(0,l.Wm)(i,{color:"accent",size:"5rem"},{default:(0,l.w5)((()=>[g])),_:1}),(0,l._)("div",f,[(0,l.Wm)(c,{style:{color:"#518cca"},dense:"",flat:"",rounded:"",size:"1em",padding:"none","no-caps":"",icon:"image",label:"Choose an image",onClick:s.pickFiles},null,8,["onClick"]),b]),(0,l._)("div",_,[(0,l.Wm)(c,{style:{color:"#518cca"},flat:"",rounded:"",size:"1em","no-caps":"",icon:"camera",label:"Take a pic",onClick:e[0]||(e[0]=s=>S())})])])])):((0,l.wg)(),(0,l.iD)("div",{key:1,class:"uploader-hasfile",style:(0,r.j5)({"background-image":"url("+s.files[0].__img.src+")"})},[(0,l._)("div",k,[(0,l._)("div",w,[(0,l._)("div",y,(0,r.zw)(s.files[0].name),1),(0,l._)("div",null,(0,r.zw)(s.files[0].__sizeLabel)+" / "+(0,r.zw)(s.files[0].__progressLabel),1)]),(0,l._)("div",z,[(0,l.Wm)(c,{flat:"",round:"",icon:"close",onClick:s.removeQueuedFiles},null,8,["onClick"])])])],4))])),_:1},512),(0,l.Wm)(c,{class:"col-12 q-mt-sm text-grey-1",style:{"background-color":"#518cca"},size:"lg","icon-right":"upload",disabled:!(0,t.SU)(u),label:"Predict Your Marvel Makeup",onClick:T},null,8,["disabled"])]),a.value.length>0?((0,l.wg)(),(0,l.iD)("div",x,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.value,(s=>((0,l.wg)(),(0,l.iD)("div",{key:s,class:"row"},[(0,l._)("div",q,[(0,l._)("div",C,[D,(0,l._)("div",Q,(0,r.zw)(s.is_marvel_character_prob),1)])]),s.marvel_character_probs.length>0?((0,l.wg)(),(0,l.iD)("div",F,[U,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.marvel_character_probs,(s=>((0,l.wg)(),(0,l.iD)("div",{key:s,class:"row items-center q-pt-xs"},[(0,l._)("div",Z,(0,r.zw)(s.label),1),(0,l._)("div",L,[(0,l.Wm)(j,{size:"50px",value:s.prob,color:"#f78f3f"},{default:(0,l.w5)((()=>[(0,l._)("div",M,[(0,l.Wm)(o,{color:"white","text-color":"secondary",label:(100*s.prob).toFixed(2)+"%"},null,8,["label"])])])),_:2},1032,["value"])])])))),128))])):(0,l.kq)("",!0)])))),128))])):(0,l.kq)("",!0)])])),_:1})}}};var H=a(9885),B=a(2857),O=a(4483),P=a(8289),S=a(990),T=a(9984),E=a.n(T);const K=W,Y=K;E()(W,"components",{QPage:H.Z,QUploader:n.Z,QIcon:B.Z,QBtn:O.Z,QLinearProgress:P.Z,QBadge:S.Z})},6700:(s,e,a)=>{var l={"./af":3902,"./af.js":3902,"./ar":6314,"./ar-dz":5666,"./ar-dz.js":5666,"./ar-kw":6591,"./ar-kw.js":6591,"./ar-ly":7900,"./ar-ly.js":7900,"./ar-ma":5667,"./ar-ma.js":5667,"./ar-sa":4092,"./ar-sa.js":4092,"./ar-tn":6916,"./ar-tn.js":6916,"./ar.js":6314,"./az":1699,"./az.js":1699,"./be":8988,"./be.js":8988,"./bg":7437,"./bg.js":7437,"./bm":7947,"./bm.js":7947,"./bn":2851,"./bn-bd":4905,"./bn-bd.js":4905,"./bn.js":2851,"./bo":7346,"./bo.js":7346,"./br":1711,"./br.js":1711,"./bs":3706,"./bs.js":3706,"./ca":112,"./ca.js":112,"./cs":6406,"./cs.js":6406,"./cv":1853,"./cv.js":1853,"./cy":9766,"./cy.js":9766,"./da":6836,"./da.js":6836,"./de":9320,"./de-at":4904,"./de-at.js":4904,"./de-ch":6710,"./de-ch.js":6710,"./de.js":9320,"./dv":3274,"./dv.js":3274,"./el":286,"./el.js":286,"./en-au":143,"./en-au.js":143,"./en-ca":237,"./en-ca.js":237,"./en-gb":2428,"./en-gb.js":2428,"./en-ie":3349,"./en-ie.js":3349,"./en-il":3764,"./en-il.js":3764,"./en-in":7809,"./en-in.js":7809,"./en-nz":9851,"./en-nz.js":9851,"./en-sg":5594,"./en-sg.js":5594,"./eo":1469,"./eo.js":1469,"./es":2184,"./es-do":5777,"./es-do.js":5777,"./es-mx":9356,"./es-mx.js":9356,"./es-us":8496,"./es-us.js":8496,"./es.js":2184,"./et":7578,"./et.js":7578,"./eu":2092,"./eu.js":2092,"./fa":5927,"./fa.js":5927,"./fi":171,"./fi.js":171,"./fil":2416,"./fil.js":2416,"./fo":9937,"./fo.js":9937,"./fr":5172,"./fr-ca":8249,"./fr-ca.js":8249,"./fr-ch":7541,"./fr-ch.js":7541,"./fr.js":5172,"./fy":7907,"./fy.js":7907,"./ga":6361,"./ga.js":6361,"./gd":2282,"./gd.js":2282,"./gl":2630,"./gl.js":2630,"./gom-deva":680,"./gom-deva.js":680,"./gom-latn":6220,"./gom-latn.js":6220,"./gu":6272,"./gu.js":6272,"./he":5540,"./he.js":5540,"./hi":6067,"./hi.js":6067,"./hr":9669,"./hr.js":9669,"./hu":3396,"./hu.js":3396,"./hy-am":6678,"./hy-am.js":6678,"./id":4812,"./id.js":4812,"./is":4193,"./is.js":4193,"./it":7863,"./it-ch":959,"./it-ch.js":959,"./it.js":7863,"./ja":1809,"./ja.js":1809,"./jv":8657,"./jv.js":8657,"./ka":3290,"./ka.js":3290,"./kk":8418,"./kk.js":8418,"./km":7687,"./km.js":7687,"./kn":1375,"./kn.js":1375,"./ko":2641,"./ko.js":2641,"./ku":3518,"./ku.js":3518,"./ky":5459,"./ky.js":5459,"./lb":1978,"./lb.js":1978,"./lo":6915,"./lo.js":6915,"./lt":8948,"./lt.js":8948,"./lv":2548,"./lv.js":2548,"./me":8608,"./me.js":8608,"./mi":333,"./mi.js":333,"./mk":6611,"./mk.js":6611,"./ml":999,"./ml.js":999,"./mn":4098,"./mn.js":4098,"./mr":6111,"./mr.js":6111,"./ms":3717,"./ms-my":265,"./ms-my.js":265,"./ms.js":3717,"./mt":8980,"./mt.js":8980,"./my":6895,"./my.js":6895,"./nb":5348,"./nb.js":5348,"./ne":1493,"./ne.js":1493,"./nl":4419,"./nl-be":5576,"./nl-be.js":5576,"./nl.js":4419,"./nn":6907,"./nn.js":6907,"./oc-lnc":2321,"./oc-lnc.js":2321,"./pa-in":9239,"./pa-in.js":9239,"./pl":7627,"./pl.js":7627,"./pt":5703,"./pt-br":1623,"./pt-br.js":1623,"./pt.js":5703,"./ro":2747,"./ro.js":2747,"./ru":4420,"./ru.js":4420,"./sd":2148,"./sd.js":2148,"./se":2461,"./se.js":2461,"./si":2783,"./si.js":2783,"./sk":3306,"./sk.js":3306,"./sl":341,"./sl.js":341,"./sq":2768,"./sq.js":2768,"./sr":2451,"./sr-cyrl":3371,"./sr-cyrl.js":3371,"./sr.js":2451,"./ss":8812,"./ss.js":8812,"./sv":3820,"./sv.js":3820,"./sw":3615,"./sw.js":3615,"./ta":2869,"./ta.js":2869,"./te":2044,"./te.js":2044,"./tet":5861,"./tet.js":5861,"./tg":6999,"./tg.js":6999,"./th":926,"./th.js":926,"./tk":7443,"./tk.js":7443,"./tl-ph":9786,"./tl-ph.js":9786,"./tlh":2812,"./tlh.js":2812,"./tr":6952,"./tr.js":6952,"./tzl":9573,"./tzl.js":9573,"./tzm":5990,"./tzm-latn":6961,"./tzm-latn.js":6961,"./tzm.js":5990,"./ug-cn":2610,"./ug-cn.js":2610,"./uk":9498,"./uk.js":9498,"./ur":3970,"./ur.js":3970,"./uz":9006,"./uz-latn":26,"./uz-latn.js":26,"./uz.js":9006,"./vi":9962,"./vi.js":9962,"./x-pseudo":8407,"./x-pseudo.js":8407,"./yo":1962,"./yo.js":1962,"./zh-cn":8909,"./zh-cn.js":8909,"./zh-hk":4014,"./zh-hk.js":4014,"./zh-mo":996,"./zh-mo.js":996,"./zh-tw":6327,"./zh-tw.js":6327};function t(s){var e=r(s);return a(e)}function r(s){if(!a.o(l,s)){var e=new Error("Cannot find module '"+s+"'");throw e.code="MODULE_NOT_FOUND",e}return l[s]}t.keys=function(){return Object.keys(l)},t.resolve=r,s.exports=t,t.id=6700}}]);